var Router=window.ReactRouter,Route=Router.Route,DefaultRoute=Router.DefaultRoute,RouteHandler=Router.RouteHandler,Link=Router.Link,SearchMixin={getInitialState:function(){return{results:[]}},search:function(a){var b=this;$.getJSON("https://hawk-frontend-staging.herokuapp.com?query="+a,function(a){b.setState({results:a})})}},App=React.createClass({displayName:"App",render:function(){return React.createElement(RouteHandler,null)}}),Search=React.createClass({displayName:"Search",mixins:[SearchMixin],select:function(a){this.setState({selected:!0,results:[],id:a})},render:function(){return React.createElement("div",{className:"search"},React.createElement(ResultList,{results:this.state.results}),React.createElement(HomeHeader,{search:this.search}))}}),HomeHeader=React.createClass({displayName:"HomeHeader",render:function(){return React.createElement("div",{className:"header"},React.createElement("div",{className:"header__title"},React.createElement("h1",{className:"header__title__name"},"embedr"),React.createElement("p",{className:"header__title__text"},"High quality cultural heritage image embedding")),React.createElement("ul",{className:"header__navigation"},React.createElement("li",null,React.createElement("a",{href:"#"},"about")),React.createElement("li",null,React.createElement("a",{href:"#"},"contact"))),React.createElement(SearchBar,{search:this.props.search}))}}),SearchBar=React.createClass({displayName:"SearchBar",getInitialState:function(){return{showAdvanced:!1}},showAdvanced:function(a){this.setState({showAdvanced:!this.state.showAdvanced})},handleChange:function(a){var b=a.target.value;this.props.search(b)},render:function(){return React.createElement("div",{className:"search_box"},React.createElement("div",{className:"search__advanced",onClick:this.showAdvanced},"advanced search"),React.createElement("input",{className:"search_bar",placeholder:"Search",onChange:this.handleChange}),React.createElement("div",{className:"search__button"}),this.state.showAdvanced?React.createElement(AdvancedSearch,{close:this.showAdvanced}):null)}}),AdvancedSearch=React.createClass({displayName:"AdvancedSearch",render:function(){return React.createElement("div",{className:"search__advanced__box"},React.createElement("div",{className:"close_button",onClick:this.props.close},"X"),React.createElement("ul",null,React.createElement(AdvancedOption,{value:"any"},"any license"),React.createElement(AdvancedOption,{value:"all"},"all creative commons"),React.createElement(AdvancedOption,{value:"commercial"},"commercial use allowed"),React.createElement(AdvancedOption,{value:"modification"},"commercial use and modifictions allowed"),React.createElement(AdvancedOption,{value:"unknown"},"no known copyright restrictions")))}}),AdvancedOption=React.createClass({displayName:"AdvancedOption",render:function(){var a="license"+this.props.value;return React.createElement("li",null,React.createElement("label",null,React.createElement("input",{type:"radio",name:"license",id:a,value:this.props.value}),this.props.children))}}),ResultList=React.createClass({displayName:"ResultList",render:function(){if(0==this.props.results.length)return null;var a=this.props.results.map(function(a){return React.createElement(Result,{key:a._id,id:a._id,select:this.props.select})}.bind(this));return React.createElement("div",{className:"results__overlay"},React.createElement("div",{className:"results"},a))}}),Result=React.createClass({displayName:"Result",getInitialState:function(){return{hover:"embed_button"}},mouseOver:function(){this.setState({hover:"embed_button display"})},mouseOut:function(){this.setState({hover:"embed_button"})},click:function(){this.props.select(this.props.id)},render:function(){return React.createElement("div",{className:"result",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},React.createElement("a",{className:this.state.hover,href:"#"},"</>"),React.createElement(Link,{to:"detail",params:{id:this.props.id}},React.createElement(IIIFImage,{server:"http://iiifhawk.klokantech.com",id:this.props.id,size:"150,150"})))}}),IIIFImage=React.createClass({displayName:"IIIFImage",makeSource:function(){var a=this.props.server,b=this.props.id,c=this.props.region||"full",d=this.props.size||"1000,",e=this.props.rotation||"0",f=this.props.quality||"native",g=this.props.format||"jpg";return a+"/"+b+"/"+c+"/"+d+"/"+e+"/"+f+"."+g},render:function(){var a=this.makeSource();return React.createElement("img",{src:a})}}),Detail=React.createClass({displayName:"Detail",mixins:[SearchMixin],render:function(){return React.createElement("div",{className:"detail"},React.createElement(OpenSeaDragon,null),React.createElement(ResultList,{results:this.state.results}),React.createElement(DetailHeader,{search:this.search}))}}),DetailHeader=React.createClass({displayName:"DetailHeader",render:function(){return React.createElement("div",{className:"header detail"},React.createElement("div",{className:"header__title"},React.createElement("h1",{className:"header__title__name"},"embedr")),React.createElement("ul",{className:"header__navigation"},React.createElement("li",null,React.createElement("a",{href:"#"},"about")),React.createElement("li",null,React.createElement("a",{href:"#"},"contact"))),React.createElement(SearchBar,{search:this.props.search}))}}),OpenSeaDragon=React.createClass({displayName:"OpenSeaDragon",componentDidMount:function(){OpenSeadragon({id:"detailImage",preserveViewport:!0,visibilityRatio:1,minZoomLevel:1,minZoomLevel:10,defaultZoomLevel:1,tileSources:[{"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":"http://iiifhawk.klokantech.com/000-test2/",formats:["jpg","png","gif"],height:3600,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",qualities:["native","bitonal","grey","color"],scale_factors:[1,2,4,8,16],tile_height:256,tile_width:256,width:2617}]})},render:function(){return React.createElement("div",{id:"detailImage"})}}),routes=React.createElement(Route,{path:"/",handler:App},React.createElement(DefaultRoute,{handler:Search}),React.createElement(Route,{name:"detail",path:"/:id",handler:Detail}));Router.run(routes,function(a){React.render(React.createElement(a,null),document.getElementById("search"))}),function(){}.call(this);